
<div id="popover" >
  <h2 (click)="goTo(asso.productDTO.id)" class="popoverTitle url">{{asso.productDTO.title}} </h2>
  <form>
    <mat-form-field >
      <mat-label>Votre commentaire</mat-label>
      <textarea matInput
                [formControl]="commentContentAdd"
                cdkTextareaAutosize
                #autosize="cdkTextareaAutosize"
                cdkAutosizeMinRows="2"
                cdkAutosizeMaxRows="5"></textarea>
    </mat-form-field>
    <mat-error *ngIf="commentContentAdd.hasError('maxlength')">
      250 lettres maximum.
    </mat-error>
    <button mat-raised-button (click)="addComment()">Soumettre</button>
    <span *ngIf="load"><mat-spinner>
<!--    <app-progress-spinner class="example-margin" [backdropEnabled]="true" [positionGloballyCenter]="true">
</app-progress-spinner>-->
    </mat-spinner></span>
  </form>
  <div class="comments">
    <mat-list>
      <mat-list-item *ngFor="let comment of asso.comments">
        <!-- <img matListAvatar src="..." alt="...">-->
        <h3 matLine><span class="username url" (click)="goToUserProfile(comment.iduser)">
          {{comment.iduser}}</span>&nbsp;&nbsp;
<!--          {{getUserSpeudo(comment.iduser)}}</span>&nbsp;&nbsp;-->
          <span class="date">{{comment.updatedate}}</span></h3>
        <p class="content" matLine> {{comment.commentaire}} </p>
        <span matLine>
          <span class="note"><mat-icon (click)="riseNoteComment(comment)">thumb_up_alt</mat-icon>{{comment.note}}</span>
          &nbsp;&nbsp;
          <span class="url"(click)="showPopoverToEdit(comment)" *ngIf="canEdit(comment)">Modifier</span>
          &nbsp;&nbsp;
          <span class="url" (click)="showPopoverToSignal(comment)">Signaler</span>
        </span>
      </mat-list-item>
    </mat-list>
  </div>
</div>
