<div class="banner">
	<div class="title">Related Products :</div>
	<div class="navigation" *ngIf="totalPages">
		<div *ngFor="let in of counter(totalPages) ;let i = index">
			<div id="cercle" *ngIf="i !== this.currentPage"></div>
			<div id="cercle2" *ngIf="i === this.currentPage"></div>
		</div>
	</div>

	<br />

	<div class="list" *ngIf="allProducts">
		<div class="navigation-left">
			<img *ngIf="currentIndex > 0" (click)="fetchIndex('left')"
				src="assets/images/white-arrow-right.png">
		</div>
		<div class="item" *ngFor="let asso of fetchList(currentIndex)" (click)="showPopover()">
<!-- 			(click)="goTo(asso.productDTO.id)"> -->
			<div class="picto">
				<img src="{{getPicto(asso.productDTO.type)}}">
			</div>
			<div class="image">
				<img src="{{asso.productDTO.image}}">
			</div>
			<div class="title2" (mouseover)="getTitle(asso.productDTO)">
				{{asso.productDTO.title}}</div>
		</div>

		<!-- <div class="item" *ngFor="let product of fetchList(currentIndex)" (click)="goTo(product.id)">
                        <div class="picto">
                                <img src="{{getPicto(product.type)}}">
                        </div>
                        <div class="image">
                                <img src="{{product.image}}">
                        </div>
                        <div class="title2" (mouseover)="getTitle(product)">
                                {{product.title}}
                        </div>
                </div> -->
		<div class="item add-product">
			<div class="image" (click)="addAssociation()">
				<img src="/assets/images/plus.png">
			</div>
		</div>
		<div class="navigation-right">
			<img *ngIf="currentIndex + 5 < allProducts.length"
				(click)="fetchIndex('right')"
				src="assets/images/white-arrow-right.png">
		</div>
	</div>

    <div class="popover" *ngIf="showComments">
        <h2 (click)="goTo(asso.productDTO.id)" class="popoverTitle">{{asso.productDTO.title}} </h2>
        <br />
        <div class="comments">
            <mat-list>
                <mat-list-item *ngFor="let comment of asso.comments">
                    <!-- <img matListAvatar src="..." alt="...">-->
                    <h3 matLine><span class="username" (click)="goToUserProfile(comment.iduser)">{{comment.iduser}}</span>&nbsp;&nbsp;
                        <span class="date">{{comment.updatedate}}</span></h3>
                    <p class="content" matLine> {{comment.commentaire}} </p>
                    <span class="note" matLine><mat-icon (click)="riseNoteComment(comment)">thumb_up_alt</mat-icon>{{comment.note}}</span>
                </mat-list-item>
            </mat-list>
        </div>
    </div>

</div>
